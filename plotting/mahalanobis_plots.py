from matplotlib import pyplot as plt

import numpy as np

LMNN =  [0.45642857, 0.52928571 ,0.59428571 ,0.63214286 ,0.66142857 ,0.67857143,
  0.69714286 ,0.70785714 ,0.72785714 ,0.73928571]

NCA = [0.45857143 ,0.54571429, 0.59,       0.63642857 ,0.67071429 ,0.69571429,
 0.71,       0.71928571 ,0.73285714 ,0.74571429]
#
LFDA = [0.43071429, 0.51285714 ,0.55857143 ,0.58785714, 0.62214286 ,0.64857143,
 0.66785714, 0.685,      0.70857143 ,0.71928571]
#
##
MLKR =  [0.47,       0.54214286, 0.60428571, 0.63785714, 0.66928571, 0.69357143,
 0.71,       0.72571429, 0.735,      0.74428571]

baseline = [0.47,       0.54571429, 0.59642857, 0.63928571, 0.66857143, 0.69285714,
 0.71142857 ,0.72357143, 0.73714286, 0.74928571 ,0.75857143, 0.76785714,
 0.77714286, 0.785  ,    0.79071429, 0.79857143 ,0.80642857 ,0.81571429,
 0.82285714, 0.83214286 ,0.835  ,    0.83714286, 0.84  ,     0.84285714,
 0.84785714, 0.85285714, 0.85642857, 0.85928571 ,0.86071429, 0.86357143,
 0.86785714, 0.86928571 ,0.86928571 ,0.87142857, 0.87214286 ,0.87214286,
 0.87285714, 0.875  ,    0.87785714 ,0.88071429, 0.88214286, 0.885,
 0.88714286, 0.88928571, 0.89071429, 0.89071429, 0.89142857, 0.89357143,
 0.89428571, 0.89785714]

fig, ax = plt.subplots()

for graph, name in zip([LMNN, NCA, LFDA, MLKR], [f'LMNN', f'NCA', f'LFDA', f'MLKR']):
    ax.plot(graph, '-.', label=name)

ax.set_xlabel('n')
ax.set_ylabel(r'$P(Rank)\leq n$')
ax.set_title('CMC for Mahalanobis Trained using Several Methods')
ax.set_xlim(xmin=0)
ax.grid()

ax.plot(baseline[:10], '.r', label=f'baseline')

ax.annotate(f'Rank-1\n$MLKR = 47\%$', xy=(0, 0.47), xytext=(3.4, 0.47),
            arrowprops=dict(facecolor='black', shrink=0.1),
            )
ax.legend(loc=(0.6,0.2))

props = dict(boxstyle=None, facecolor='wheat', alpha=0.5)
plt.show()
